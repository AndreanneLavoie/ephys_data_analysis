function makeChanMap_AL

fpath = 'E:\extarcellular\Andreanne\chanMaps';%change

% reassign chanMap (from intan) a value from 1 to chanNumber in the same
% order defined by intan probe map
% Both phy and phy2 are 0 based while kilosort is 1 based.
% In phy2, the numbers in the phy channel are the numbers in 'chanMap', with a difference of 1. 
% In phy, the channel in the phy is the index in 'chanMap', with a difference of 1. 
%% A1x16
chanMap = [34 28 35 29 41 23 39 25 45 19 47 17 43 21 37 27];%The numbers are Intan channel numbers in order, from top to bottom of the electrode.
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap); % after unique function, chanMap saves the order of Intan Channel, which is between 1 and total chan number
connected = true(1,16);
xcoords = zeros(1,16);
ycoords = 25 * 0:15; 
ycoords = fliplr(ycoords); % bottom first; %The variable ycoords defines the depth in microns for each channel, and 0 is the bottom (tip of the electrode). All the channel depths are calculated as the distance from the channel closest to the tip.
% Similarly on phy, they tell you the unit depth, and that “depth” is actually the distance from the tip of the electrode, not the other way around.
kcoords = ones(1,16);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x16.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');

%% A1x16-Poly2
chanMap = [43 21 ...
           37 27 ...
           47 17 ...
           45 19 ...
           39 25 ...
           41 23 ...
           35 29 ...
           34 28]; 
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,16);
xcoords = 50 * [  1 0 1 0 1 0 1 0 1 0 1 0 1 0];
ycoords = 25 * 0:15; 
ycoords = fliplr(ycoords); % bottom first
kcoords = ones(1,16);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x16Poly2.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');

%% A1x32-Poly2
chanMap = [19 45 ...
           24 33 ...
           23 43 ...
           26 34 ...
           25 41 ...
           29 35 ...
           27 38 ...
           31 37 ...
           28 39 ...
           30 36 ...
           21 32 ...
           17 47 ...
           22 40 ...
           20 42 ...
           18 44 ...
           16 46];
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,32);
xcoords = 43 * [1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 ...
                1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0];
ycoords = 25 * 0:31; 
ycoords = fliplr(ycoords); % bottom first
kcoords = ones(1,32);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x32Poly2.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');


%% A1x32-Poly3
chanMap = [16 ...
            46 ...
            19 45 ...
            18 ...
            24 33 ...
            44 ...
            23 43 ...
            20 ...
            26 34 ...
            42 ...
            25 41 ...
            22 ...
            29 35 ...
            40 ...
            27 38 ...
            17 ...
            31 37 ...
            47 ...
            28 39 ...
            21 ...
            30 36 ...
            32];
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,32);
xcoords = 18* [1 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1 2 0 1];
temp = [1.5 1.5 2];
ycoords = 25 * [0 1 temp (1+temp) (2+temp) (3+temp) (4+temp) (5+temp) (6+temp) (7+temp) (8+temp) (9+temp)]; 
% ycoords = fliplr(ycoords); channel map not symmetric in y axis, flip
% stops working
ycoords = 275 - ycoords;% bottom first
% 275 is the max length in y axis for the central column
kcoords = ones(1,32);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x32Poly3.mat'), 'Intan_chan_num','chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');
%% A1x32-Edge
chanMap = [30 28 31 27 29 25 26 23 24 19 21 17 22 20 18 16 46 44 42 40 47 32 45 33 43 34 41 35 38 37 39 36];%The numbers are Intan channel numbers in order, from top to bottom of the electrode.
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,32);
xcoords = zeros(1,32);
ycoords = 20 * 0:31; 
ycoords = fliplr(ycoords); % bottom first;%The variable ycoords defines the depth in microns for each channel, and 0 is the bottom (tip of the electrode). All the channel depths are calculated as the distance from the channel closest to the tip.
% Similarly on phy, they tell you the unit depth, and that “depth” is actually the distance from the tip of the electrode, not the other way around.
kcoords = ones(1,32);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x32Edge.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs')

%% A1x32-(not Poly2)
chanMap = [16 46 18 44 20 42 22 40 17 47 21 32 19 45 24 33 23 43 26 34 25 41 29 35 27 38 31 37 28 39 30 36];
[~,~,chanMap] = unique(chanMap);
connected = true(1,32);
xcoords = zeros(1,32);
ycoords = 25 * 0:31; 
ycoords = fliplr(ycoords); % bottom first
kcoords = ones(1,32);
fs = 30000; 

save(fullfile(fpath, 'chanMapA1x32Classic.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs')

%% A2x32
chanMap = [48 53 55 33 50 51 57 35 52 49 60 36 54 32 62 41 56 34 58 45 63 37 61 38 59 39 44 42 46 43 40 47 ...
    11 14 31 9 13 12 29 7 15 10 26 2 30 8 23 0 28 6 19 4 27 1 24 3 25 5 20 18 21 16 17 22];
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,64);
xcoords = [zeros(1,32) 200*ones(1,32)];
ycoords = 25 * [0:31 0:31]; 
ycoords = fliplr(ycoords); % bottom first
kcoords = [ones(1,32) 2*ones(1,32)];
fs = 30000;

save(fullfile(fpath, 'chanMapA2x32.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');

%% ASSY-37-P-1 (2x16-poly2)
%new chanMap is the same as Intan + 1 (starts at 1 instead of 0; and is in
%the same order and intan probe map)

% %The numbers are Intan channel numbers in order: (1) right shank first;
% (2) do the second shank after finishing all sites of the first one
% (3) on each shank, row by row, from right to left, from top to bottom;
chanMap = [27 ... % right shank starting from top (but order is mirror - ei going right to left than down a row)
    16 ...
    29 ...
    17 ...
    31 ...
    21 ...
    30 ...
    23 ...
    28 ...
    25 ...
    26 ...
    24 ...
    22 ...
    20 ...
    19 ...
    18 ...
    37 ... % left shank same right to left order
    46 ...
    35 ...
    47 ...
    33 ... 
    43 ...
    32 ...
    41 ...
    34 ...
    39 ... 
    36 ...
    38 ...
    40 ...
    42 ...
    45 ...
    44 ]; 
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap); % after unique function, chanMap saves the order of Intan Channel, which is between 1 and total chan number
connected = true(1,64);
xcoords = [repmat([273 250 ], 1,8) repmat([23 0], 1,8)];
ycoords = 13*[(0:15) (0:15)];
ycoords = abs(ycoords - max(ycoords)); % bottom first
kcoords = [ones(1,16) 2*ones(1,16)];
fs = 30000;

save(fullfile(fpath, 'chanMapA2x16-Poly2.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');


%% A2x32-Poly5
%new chanMap is the same as Intan + 1 (starts at 1 instead of 0; and is in
%the same order and intan probe map)

% %The numbers are Intan channel numbers in order: (1) right shank first;
% (2) do the second shank after finishing all sites of the first one
% (3) on each shank, row by row, from right to left, from top to bottom;
chanMap = [29 7 ... % right shank starting from top (but order is mirror - ei going right to left than down a row)
    27 11 1 ...
    15 10 ...
    24 14 3 ...
    26 2 ...
    25 31 5 ...
    30 8 ...
    20 9 18 ...
    23 0 ...
    21 13 16 ...
    28 6 ...
    17 12 22 ...
    19 4 ...
    57 35 ... % left shank same right to left order
    63 48 37 ...
    52 49 ...
    61 53 38 ... 
    60 36 ...
    59 55 39 ...
    54 32 ...
    44 33 42 ... 
    62 41 ...
    46 50 43 ...
    56 34 ...
    40 51 47 ...
    58 45]; 
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap); % after unique function, chanMap saves the order of Intan Channel, which is between 1 and total chan number
connected = true(1,64);
xcoords = [242 214 256 228 200 242 214 256 228 200 242 214 256 228 200 242 214 256 228 200 242 214 256 228 200 242 214 256 228 200 242 214 ...
    42 14 56 28 0 42 14 56 28 0 42 14 56 28 0 42 14 56 28 0 42 14 56 28 0 42 14 56 28 0 42 14];
ycoords = 14*[0 0 1 1 1 2 2 3 3 3 4 4 5 5 5 6 6 7 7 7 8 8 9 9 9 10 10 11 11 11 12 12 ...
    0 0 1 1 1 2 2 3 3 3 4 4 5 5 5 6 6 7 7 7 8 8 9 9 9 10 10 11 11 11 12 12];
ycoords = fliplr(ycoords); % bottom first
kcoords = [ones(1,32) 2*ones(1,32)];
fs = 30000;

save(fullfile(fpath, 'chanMapA2x32-Poly5.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');


%% A1x64-Poly2
chanMap = [63 3 ...
           58 1 ...
           56 4 ...
           62 6 ...
           54 0 ...
           60 8 ...
           52 2 ...
           57 10 ...
           50 7 ...
           55 12 ...
           48 9 ...
           53 14 ...
           33 11 ...
           51 31 ...
           35 13 ...
           49 29 ...
           36 15 ...
           32 26 ...
           41 30 ...
           34 23 ...
           45 28 ...
           37 19 ...
           38 27 ...
           39 24 ...
           42 25 ...
           43 20 ...
           47 21 ...
           61 17 ...
           59 5 ...
           44 18 ...
           46 16 ...
           40 22];
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = true(1,64);
xcoords = 30 * repmat([0 1],1,32);
xcoords(63) = 5;
xcoords(64) = 24;
ycoords = 23 * 0:63; 
ycoords = fliplr(ycoords); % bottom first
kcoords = ones(1,64);
fs = 30000;

save(fullfile(fpath, 'chanMapA1x64Poly2.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');

%% 128A
chanMap = 1:128;
Intan_chan_num = unique(chanMap); %save the Intan channel numbers
[~,~,chanMap] = unique(chanMap);
connected = [true(1,128)];
xcoords = [0;0;0;0;0;0;0;0;0;0;0;-16;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;-20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;16;0;0;0;0;0;0;0;0;0;0;0;400;400;400;400;400;400;400;400;400;400;400;384;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;380;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;420;416;400;400;400;400;400;400;400;400;400;400;400]';
ycoords = [1025;925;825;725;625;525;425;325;225;125;25;50;100;150;200;250;1050;1000;950;900;850;800;750;700;650;600;550;500;450;400;350;300;350;400;450;500;550;600;650;700;750;800;850;900;950;1000;1050;300;250;200;150;100;50;0;75;175;275;375;475;575;675;775;875;975;1025;925;825;725;625;525;425;325;225;125;25;50;100;150;200;250;1050;1000;950;900;850;800;750;700;650;600;550;500;450;400;350;300;350;400;450;500;550;600;650;700;750;800;850;900;950;1000;1050;300;250;200;150;100;50;0;75;175;275;375;475;575;675;775;875;975]'; 
kcoords = [ones(1,64) 2*ones(1,64)];
fs = 20000;

save(fullfile(fpath, 'chanMap128A.mat'), 'Intan_chan_num', 'chanMap', 'connected', 'xcoords', 'ycoords', 'kcoords', 'fs');
